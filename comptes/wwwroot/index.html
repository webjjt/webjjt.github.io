<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Comptes</title>

    <base href="/comptes/wwwroot" />  <!--base crÃ©Ã©e dans le script pour Ã©viter des problÃ¨mes de chemin avec les link rel--> 



    <!-- Start Single Page Apps for GitHub Pages -->
    <script type="text/javascript">
        // Single Page Apps for GitHub Pages
        // MIT License
        // https://github.com/rafgraph/spa-github-pages
        // This script checks to see if a redirect is present in the query string,
        // converts it back into the correct url and adds it to the
        // browser's history using window.history.replaceState(...),
        // which won't cause the browser to attempt to load the new url.
        // When the single page app is loaded further down in this file,
        // the correct url will be waiting in the browser's history for
        // the single page app to route accordingly.
        (function (l) {
            if (l.search[1] === '/') {
                var decoded = l.search.slice(1).split('&').map(function (s) {
                    return s.replace(/~and~/g, '&')
                }).join('?');
                window.history.replaceState(null, null,
                    l.pathname.slice(0, -1) + decoded + l.hash
                );
            }
        }(window.location))
    </script>
    <!-- End Single Page Apps for GitHub Pages -->



    <script fetchpriority="high">
        // pour mettre base a jour avant les link
        var path = window.location.pathname.split('/');
        console.log(window.location.pathname);

        //crÃ©ation de la balise base ici pour Ã©viter des problÃ¨mes avec les link rel
       // const base = document.createElement("base");
       // base.setAttribute('href', "/");

        var base = document.getElementsByTagName('base')[0]; <!--plus utilisÃ© car crÃ©Ã© au dessus-->
        //la page par defaut doit avoir une pageroute =/ et pas vide

        for (let i = 0; i < path.length; i++) {
            console.log(path[i]);
        }
        if (window.location.host.includes('localhost')) {
            base.setAttribute('href', "/");
        }
        else
            if (path.length > 2) {

                // base.setAttribute('href', window.location.pathname);
                base.setAttribute('href', "/comptes/wwwroot/");

            }
            else
                if (path[path.length - 1].length != 0) {
                    window.location.replace(window.location.origin + window.location.pathname + '/' + window.location.search);
                }

        console.info('controle de balise base');
        console.info(base.href);
    </script>
    <!--

    les link rel sont mis avec fetchpriority=low pour bien prendre base ->href caculÃ© par le script au prÃ©alable, sinon il prend le base mis en tÃªte du document
        cela permet de lancer en dÃ©veloppement sans avoir les erreurs de chargeent des link a
        -->
    <link fetchpriority="low" rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <!--<link fetchpriority="low" rel="icon" type="image/png" href="favicon.png" />-->
    <link fetchpriority="low" href="Comptes.styles.css" rel="stylesheet" />
    <link fetchpriority="low" href="manifest.webmanifest" rel="manifest" />
    <link fetchpriority="low" rel="apple-touch-icon" sizes="512x512" href="icon-512.png" />
    <link fetchpriority="low" rel="apple-touch-icon" sizes="192x192" href="icon-192.png" />
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
   <!-- <script>navigator.serviceWorker.register('service-worker.js');</script>-->
    <script src="sw-registrator.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="messcripts.js"></script>
    
</body>

</html>
